<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rolling Lyrics Player</title>
    <style>
        /* 1. 기본 설정 및 배경 처리 */
        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Pretendard', sans-serif;
            overflow: hidden;
            background-color: #111; /* 기본 배경색 */
        }

        /* 앨범 아트 기반 배경 (블러 효과) */
        .background-blur {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: var(--album-art); /* JS에서 설정 */
            background-size: cover;
            background-position: center;
            filter: blur(30px) brightness(0.4); /* 흐리고 어둡게 */
            z-index: -1;
            transform: scale(1.1); /* 블러 외곽 흰색 방지 */
        }

        /* 2. 메인 컨테이너 레이아웃 */
        .player-container {
            display: flex;
            width: 900px;
            height: 500px;
            gap: 50px;
            align-items: center;
            z-index: 1;
        }

        /* 좌측: 앨범 커버 */
        .album-art {
            width: 400px;
            height: 400px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            background-image: var(--album-art);
            background-size: cover;
            background-position: center;
            flex-shrink: 0;
        }

        /* 우측: 가사 뷰포트 */
        .lyrics-viewport {
            flex-grow: 1;
            height: 420px; /* 라인 높이(60px) * 7줄 (위3 + 현재 + 아래3) */
            overflow: hidden; /* 영역 밖 가사 숨김 */
            position: relative;
            /* 가사 중앙 정렬을 위한 마스크 효과 (선택 사항) */
            mask-image: linear-gradient(to bottom, 
                transparent 0%, 
                black 20%, 
                black 80%, 
                transparent 100%
            );
            -webkit-mask-image: linear-gradient(to bottom, 
                transparent 0%, 
                black 15%, 
                black 85%, 
                transparent 100%
            );
        }

        /* 가사 리스트 */
        .lyrics-list {
            list-style: none;
            padding: 0;
            margin: 0;
            transition: transform 0.5s cubic-bezier(0.25, 1, 0.5, 1); /* 부드러운 애니메이션 */
            /* 초기 위치 보정을 위해 패딩 추가 (중앙 정렬) */
            padding-top: 180px; /* (뷰포트 높이 420 / 2) - (라인 높이 60 / 2) */
        }

        /* 개별 가사 라인 스타일 */
        .lyric-line {
            height: 60px; /* 줄 높이 고정 */
            display: flex;
            align-items: center; /* 텍스트 수직 중앙 */
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.4); /* 기본: 흐리게 */
            transition: all 0.5s ease;
            white-space: pre-wrap; /* 줄바꿈 유지 */
            font-weight: 500;
        }

        /* 현재 가사 하이라이트 */
        .lyric-line.active {
            color: #fff;
            font-size: 1.6rem; /* 더 크게 */
            font-weight: 700;
            text-shadow: 0 0 10px rgba(255,255,255,0.3);
            transform: scale(1.05); /* 살짝 커지는 효과 */
            transform-origin: left;
        }
        
        /* 빈 줄 처리 */
        .lyric-line:empty::before {
            content: "\00a0"; /* 빈 줄도 높이를 차지하게 함 */
        }
    </style>
</head>
<body>

    <div class="background-blur" id="bgBlur"></div>

    <div class="player-container">
        <div class="album-art" id="albumArt"></div>

        <div class="lyrics-viewport">
            <ul class="lyrics-list" id="lyricsList">
                </ul>
        </div>
    </div>

    <script>
        // --- 1. 설정 데이터 (이곳을 수정하세요) ---
        const config = {
            // 앨범 커버 이미지 URL (예시 이미지)
            albumImage: "https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?q=80&w=1000&auto=format&fit=crop",
            
            // 가사 데이터 (빈 줄은 "" 로 표시)
            lyrics: [
                "(전주)",
                "",
                "오늘 하루는 어땠나요",
                "별일 없었나요",
                "",
                "창문 너머로 불어오는",
                "바람이 차갑네요",
                "",
                "잠시 쉬어가도 괜찮아요",
                "아무도 재촉하지 않으니",
                "그대 마음 가는 대로",
                "천천히 걸어가요",
                "",
                "(간주)",
                "",
                "수고했어요 오늘도",
                "편안한 밤 되세요",
                "내일은 더 빛날 거예요",
                "안녕",
                "",
                "(노래 끝)"
            ]
        };

        // --- 2. 초기화 로직 ---
        const lyricsList = document.getElementById('lyricsList');
        const albumArt = document.getElementById('albumArt');
        const bgBlur = document.getElementById('bgBlur');
        let currentIndex = 0;
        const LINE_HEIGHT = 60; // CSS에서 설정한 높이와 맞춰야 함

        // 이미지 적용
        const imgUrl = `url('${config.albumImage}')`;
        document.body.style.setProperty('--album-art', imgUrl);

        // 가사 렌더링
        function initLyrics() {
            config.lyrics.forEach((text, index) => {
                const li = document.createElement('li');
                li.className = 'lyric-line';
                li.textContent = text;
                lyricsList.appendChild(li);
            });
            updateLyrics();
        }

        // --- 3. 가사 이동 및 스타일 업데이트 함수 ---
        function updateLyrics() {
            const lines = document.querySelectorAll('.lyric-line');
            
            // 1. 스크롤 이동 (TranslateY 사용)
            // 인덱스에 따라 위로 올려줌
            const translateY = -(currentIndex * LINE_HEIGHT);
            lyricsList.style.transform = `translateY(${translateY}px)`;

            // 2. 스타일 적용 (Active 클래스 토글)
            lines.forEach((line, index) => {
                line.classList.remove('active');
                if (index === currentIndex) {
                    line.classList.add('active');
                }
            });
        }

        // --- 4. 이벤트 리스너 (스페이스바) ---
        window.addEventListener('keydown', (e) => {
            // 스페이스바(Space) 또는 화살표 아래(ArrowDown)
            if (e.code === 'Space' || e.code === 'ArrowDown') {
                e.preventDefault(); // 스페이스바 스크롤 방지
                
                if (currentIndex < config.lyrics.length - 1) {
                    currentIndex++;
                    updateLyrics();
                }
            }
            // 화살표 위(ArrowUp) - 되돌리기 기능
            else if (e.code === 'ArrowUp') {
                e.preventDefault();
                if (currentIndex > 0) {
                    currentIndex--;
                    updateLyrics();
                }
            }
        });

        // 실행
        initLyrics();

    </script>
</body>
</html>
